{
  "$schema": "https://opencode.ai/config.json",

  "model": "openrouter/google/gemini-3-flash-preview",
  "small_model": "openrouter/google/gemini-3-flash-preview",

  "provider": {
    "openrouter": {
      "options": {
        "timeout": 300000
      }
    }
  },

  "instructions": [
    "README.md",
    "docs/spec/*.md",
    "docs/roadmap.md"
  ],

  "permission": {
    "edit": "ask",
    "bash": "ask"
  },

  "agent": {
    "spec": {
      "description": "Spec Agent (docs/spec/*, docs/adr/*). No application code.",
      "mode": "subagent",
      "model": "openrouter/google/gemini-3-flash-preview",
      "prompt": "{file:./prompts/spec.txt}",
      "permission": {
        "edit": "allow",
        "bash": "deny"
      }
    },

    "backend": {
      "description": "Backend Agent (FastAPI backend/).",
      "mode": "subagent",
      "model": "openrouter/google/gemini-3-flash-preview",
      "prompt": "{file:./prompts/backend.txt}",
      "permission": {
        "edit": "allow",
        "bash": "ask"
      }
    },

    "tester": {
      "description": "Test Agent (backend/tests/).",
      "mode": "subagent",
      "model": "openrouter/google/gemini-3-flash-preview",
      "prompt": "{file:./prompts/tester.txt}",
      "permission": {
        "edit": "allow",
        "bash": "ask"
      }
    },
    

    "ops": {
      "description": "Ops Agent (infra/, Dockerfile, docker-compose).",
      "mode": "subagent",
      "model": "openrouter/google/gemini-3-flash-preview",
      "prompt": "{file:./prompts/ops.txt}",
      "permission": {
        "edit": "allow",
        "bash": "ask"
      }
    },

    "reviewer": {
      "description": "Reviewer Agent (read-only review).",
      "mode": "subagent",
      "model": "openrouter/google/gemini-3-flash-preview",
      "prompt": "{file:./prompts/reviewer.txt}",
      "permission": {
        "edit": "deny",
        "bash": {
          "*": "ask",
          "git diff*": "allow",
          "git status*": "allow",
          "git log*": "allow",
          "grep *": "allow"
        }
      }
    }
  }
}
